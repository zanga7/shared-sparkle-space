-- Update color_palettes table to use hex instead of HSL
ALTER TABLE color_palettes DROP COLUMN hsl_value;
ALTER TABLE color_palettes ADD COLUMN hex_value TEXT NOT NULL DEFAULT '#000000';

-- Update existing color palette data with hex values
UPDATE color_palettes SET hex_value = '#0EA5E9' WHERE color_key = 'sky';
UPDATE color_palettes SET hex_value = '#E11D48' WHERE color_key = 'rose';
UPDATE color_palettes SET hex_value = '#10B981' WHERE color_key = 'emerald';
UPDATE color_palettes SET hex_value = '#F59E0B' WHERE color_key = 'amber';
UPDATE color_palettes SET hex_value = '#8B5CF6' WHERE color_key = 'violet';

-- Insert actual SVG content for existing avatar icons
UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 55.34 44.16">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M55.17,8.49c-.69-10.22-4.82-9.14-8.87-1.36-1.37-1.61-2.34-6.98-5.1-6.7-1.68.17-2.87,3.79-3.66,5.01-.25.38.04.7-.88.51C36.35,4.15,32.98.09,31.35,0c-2.96-.16-3.99,4.48-5.51,6.33-.79,0-4.84-12.82-9.65.4l-2.57-5.1c-3.21-3.41-5.44,1.44-6.09,4.31C2.73-.33,1.24,5.18.51,10.14c-1.28,8.75-.11,16.34,2.9,24.54.91,2.47.67,2.34,1.03,4.87.65,4.68,3.18,4.71,2.71-.15.94.41,4.24.64,4.74.97.66.43.34,2.45,1.76,2.6,1.94.21,1.47-2.51,1.77-2.78.14-.13,1.95.39,2.54.41,6.46.24,15.59-.91,21.69-.14.24,1.98.22,4.02,1.93,3.66,1.43-.3,1.24-3.78,1.39-3.93.18-.18,3.55-.03,4.35-.58.69.04-.2,4.68,2.08,4.07,2.04-.55,1.93-5.04,2.21-6.54.17-.92,1-3.93,1.48-5.52,2.06-6.8,2.58-16.04,2.1-23.12Z"/>
</svg>' WHERE name = 'av1';

UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59.38 58.15">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M58.88,28.31c-2.99-11.32-23.28-3.07-31.66-6.65-3.63-1.19-3.22-5.21-2.99-8.39.22-3.65-.65-6.58-2.26-8.71C14.9-4.32-2.02.19.2,14.42c1.43,6.97.34,15.41,2.72,21.73.75,2.2,1.97,4.1,2.19,6.39.3,4.09-.47,8.35.55,12.38.49,1.54.99,2.87,2.13,3.1.77-.04.79-2.12.77-4.69.15-2.59-.4-6.51.51-7.68,1.45-1.05,2.38,1.67,2.38,2.87.23,3.13-.34,8.09,1.54,9.5.82.47,1.43-.39,1.67-1.14.61-1.73.21-4.75.51-6.81.11-.86.54-1.64,1.4-1.88,1.42-.4,3.78.04,4.65.91.55.54.69,1.39.81,2.53.23,1.84.27,4.5,1.75,5.83.81.75,1.7.09,1.9-.84.58-1.74-.09-5.09.77-6.41.75-1.3,2.74-1.08,3.32.28.32.66.35,1.63.42,2.73.09,1.55.56,4.84,2.24,4.73,1.66-.85,1.28-4.09,1.49-5.8.04-1.41.48-2.77,1.88-3.3,1.59-.63,4.23-1.11,5.27-.48,1.44,1.13.67,3.35.89,4.98.02,1.37.53,3.95,1.87,4.08,2.56-.88.69-7.49,2.27-9.57.73-.54.8,1.82.87,3.76.07,1.95.4,3.82,1.27,5.24.72,1.28,2.09,1.82,2.7.11,1.2-3.25-.69-7.77.9-10.86.68-1.24,1.93-2.14,3-3.06,4.19-3.33,5.28-9.23,4.08-14.53l-.05-.19Z"/>
</svg>' WHERE name = 'av2';

UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49.77 57.29">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M47.67,29.61c-1.6-11.02-3.58-23.6-14.91-28.14l-.18-.07C25.21-1.54,16.01.18,10.85,6.39,3.77,14.56.58,30.22.05,41.98c-.2,5.42-.11,14.24,6.51,15.31,6.34.33,9.79-8.16,10.26-13.96,1.11-5.97-.75-22.43,7.19-23.26,3.04.39,4.9,3.89,6.24,8.09,2.43,7.46,2.02,15.58,4.94,22.79,3.89,9.07,13.34,8.13,14.41-1.79.71-6.48-.99-13.13-1.93-19.55Z"/>
</svg>' WHERE name = 'av3';

UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48.59 59.45">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M47.72,8.76c-.64-5.55-1.03-7.99-7.26-8.48-8.47-.67-19.01,0-27.54.42C9.42.88,3.42-.23,1.34,3.31.52,4.71.17,8.19.09,9.92c-.44,9.12.87,21.76,1.59,31.1.32,4.21.56,9.29,1.18,13.38.59,3.9,4.15,5.05,4.62,1.88l.48-21.36,5.11.4s-.89,12.62-.38,18.68c.1,1.18.51,4.27,1.4,4.89,3.06,2.13,3.75-2.49,4.05-4.54.68-4.58,1.59-11.35,1.45-15.99-.02-.84-.03-2.72-.03-2.72l3.34-.33s-.11,20.74,0,21.05c.11.32-.09,1.11,1.05,1.79,1.14.68,2.38-.11,2.91-1.37.87-2.05,1.41-8.23,1.54-10.66.1-1.73.37-11.04.37-11.04l3.96-.17s-.84,12.37-.41,18.32c.11,1.52.28,4.25,2.24,4.43,2.02.18,2.65-2.63,2.84-4.1.77-6.07.89-18.78.89-18.78l3.65-.65s.31,7.52.25,11.24c-.04,2.31-1.48,11.02.77,12.2,2.9,1.53,3.66-4.84,3.88-6.37,1.88-12.58,2.29-29.8.83-42.45Z"/>
</svg>' WHERE name = 'av4';

UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48.87 59.29">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M39.7,6.09l-.16-.13C26.38-5.52,5.95.34,1.12,17.03c-3.47,11.06,1.83,26.93,6.48,36.65,4.6,9.25,7.3,4.08,14.84,3.38,5.13-.26,10.96,4.69,15.49.62,4.74-4.85,6.69-11.27,9.09-19.03,3.69-11.35,2.16-24.56-7.32-32.55Z"/>
</svg>' WHERE name = 'av5';

UPDATE avatar_icons SET svg_content = '<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.13 52.79">
  <defs>
    <style>
      .cls-1 {
        fill: #231f20;
      }
    </style>
  </defs>
  <path class="cls-1" d="M53.03,30.85c-.48-2.37-4.43-3.45-5.2-4.72-.98-1.93,3.83-3.51,4.3-6.69.19-1.03-.14-2.16-.94-2.85-1.96-1.9-5.63.04-7.33-2.06-1.29-2.05.41-4.91.35-7.11,0-1.62-1.49-2.81-3.05-2.84-2.13-.14-3.96,1.7-5.57,2.17-1.59.43-3.52-.32-4.41-1.68-.95-1.57-1.35-4.1-3.33-4.85-.91-.37-1.99-.29-2.84.19-1.8.98-1.84,3.43-2.99,4.75-1.15,1.3-3.4,2.05-5.01,1.71-1.33-.28-2.37-1.44-3.73-1.74-1.19-.29-2.58.15-3.35,1.12-1.25,1.48-.47,3.76-.3,5.48.16,1.65-.6,3.81-2.5,3.92-1.95.13-5.22-.49-6.56,1.6-.69,1.03-.76,2.45-.22,3.56,1.44,2.82,6.47,3.78,3.99,7.61-1.09,1.34-2.94,2.22-3.68,3.89-.87,1.7.19,3.88,1.93,4.42,1.41.49,2.99.19,4.41.64,1.75.5,2.87,2.24,2.66,4.05-.18,1.95-1.09,4.4.2,5.92.72.9,2,1.36,3.12,1.24,1.36-.11,2.24-1.18,3.31-1.87,1.16-.76,2.38-.51,4.04-.01,1.72.41,3.44.99,4.19,2.62,1.26,2.8,3.94,4.96,6.49,2.11.77-1.01.95-2.47,1.4-3.63.76-1.86,3.85-3.03,5.46-3.22,1.79.07,3.13,1.74,4.99,1.68,1.02.02,2.05-.41,2.64-1.16,2.04-2.49-1.47-6.67-.12-8.7,1.38-1.33,4.99-.27,6.81-2.32.75-.82,1.04-1.97.85-3.06l-.04-.19Z"/>
</svg>' WHERE name = 'av6';